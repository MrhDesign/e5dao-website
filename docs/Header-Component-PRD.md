# Header导航组件产品需求文档（PRD）

## 1. 产品概述

### 1.1 产品名称
E5DAO企业官网Header导航组件

### 1.2 产品定位
为E5DAO企业官网提供统一的顶部导航体验，支持桌面端和移动端的响应式导航，具备多层级菜单、智能状态管理和流畅的动画效果。

### 1.3 目标用户
- **主要用户**：访问E5DAO官网的潜在客户、合作伙伴
- **次要用户**：内部员工、供应商、投资者
- **技术用户**：前端开发者、UI/UX设计师

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 Logo区域
- **功能描述**：显示公司Logo，点击返回首页
- **规格要求**：
  - 桌面端：60px高度
  - 移动端：36px高度
  - 支持自定义图标字体

#### 2.1.2 主导航菜单
- **功能描述**：展示网站主要页面导航
- **菜单结构**：
  ```
  ├── Home (首页)
  ├── Solution (解决方案)
  │   ├── Command System (指挥系统)
  │   └── Treatment System (治疗系统)
  ├── Products (产品)
  │   ├── 动态分类 (从content.json读取)
  │   └── All Products (所有产品)
  ├── News (新闻)
  │   ├── Articles (文章)
  │   └── Industry Applications (行业应用)
  └── About Us (关于我们)
  ```
- **Contact (联系我们)**：作为独立按钮显示

#### 2.1.3 桌面端下拉菜单
- **触发方式**：鼠标悬停
- **动画效果**：淡入淡出 + 不透明度变化
- **持续时间**：300ms ease-out
- **样式规格**：
  - 宽度：264px
  - 背景：白色 + 阴影
  - 边框：圆角 + 边框线

#### 2.1.4 移动端折叠菜单
- **触发方式**：点击汉堡包图标
- **展开模式**：全屏高度菜单
- **动画特性**：
  - 入场动画：逐项延迟显示（50ms间隔）
  - 子菜单展开：手风琴式动画（300ms）
  - 背景滚动锁定

### 2.2 状态管理功能

#### 2.2.1 当前页面识别
- **激活状态显示**：
  - 桌面端：底部品牌色下划线
  - 移动端：背景高亮 + 文字颜色变化
- **智能父级激活**：子页面访问时自动激活对应父菜单

#### 2.2.2 自动菜单展开
- **桌面端**：无需展开（悬停即显示）
- **移动端**：根据当前页面自动展开相关子菜单

### 2.3 响应式适配

#### 2.3.1 断点设置
- **桌面端**：≥ 1024px (lg断点)
- **移动端**：< 1024px

#### 2.3.2 布局差异
| 特性 | 桌面端 | 移动端 |
|------|--------|---------|
| 高度 | 80px | 48px |
| Logo尺寸 | 60px | 36px |
| 菜单显示 | 水平排列 | 折叠菜单 |
| Contact按钮 | 独立显示 | 集成在折叠菜单内 |

## 3. 技术需求

### 3.1 技术架构
- **框架**：React 19.1.0 + Next.js 15
- **语言**：TypeScript 5
- **样式**：Tailwind CSS 4
- **状态管理**：React Hooks

### 3.2 性能优化
- **useMemo**：缓存导航数据计算
- **useCallback**：优化函数依赖
- **动态导入**：按需加载内容数据

### 3.3 类型安全
```typescript
interface SubmenuItem {
  name: string;
  href: string;
}

interface NavigationItem {
  name: string;
  href: string;
  submenu?: SubmenuItem[];
}
```

## 4. 用户体验需求

### 4.1 交互设计

#### 4.1.1 桌面端交互
- **悬停反馈**：0.2s颜色过渡动画
- **激活标识**：底部下划线从中心向两端扩展
- **下拉菜单**：居中对齐，300ms淡入动画

#### 4.1.2 移动端交互
- **图标切换**：汉堡包 ↔ 关闭图标，300ms旋转动画
- **菜单展开**：全屏模式，禁用背景滚动
- **级联动画**：菜单项逐个显示，每项延迟50ms

### 4.2 视觉设计

#### 4.2.1 色彩规范
- **主色调**：品牌色 (text-text-brand)
- **默认文字**：深灰色 (text-text-title)
- **悬停状态**：品牌色过渡
- **背景**：半透明白色 + 毛玻璃效果

#### 4.2.2 动画规范
- **过渡时长**：200-600ms
- **缓动函数**：ease-out, ease-in-out
- **延迟策略**：阶梯式延迟展示

## 5. 数据需求

### 5.1 内容数据源
- **来源**：`lib/content.json`
- **国际化**：通过`useContent` Hook获取
- **动态分类**：产品和解决方案分类自动读取

### 5.2 路由结构
```
/                           # 首页
/solution/command-system    # 指挥系统
/solution/treatment-system  # 治疗系统
/products/all              # 所有产品
/products/{category}       # 产品分类
/news                      # 新闻首页
/news/articles            # 新闻文章
/news/applications        # 行业应用
/aboutUs                  # 关于我们
/contact                  # 联系我们
```

## 6. 兼容性需求

### 6.1 浏览器支持
- **现代浏览器**：Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **移动端**：iOS Safari 14+, Chrome Mobile 90+

### 6.2 设备适配
- **桌面端**：1024px及以上屏幕
- **平板端**：768px-1023px
- **手机端**：320px-767px

## 7. 性能指标

### 7.1 加载性能
- **首次绘制**：< 100ms
- **交互响应**：< 16ms
- **动画帧率**：60fps

### 7.2 可访问性
- **键盘导航**：支持Tab键导航
- **屏幕阅读器**：语义化HTML结构
- **颜色对比度**：符合WCAG 2.1 AA标准

## 8. 维护需求

### 8.1 内容更新
- **菜单修改**：通过`content.json`配置文件
- **路由调整**：修改组件内路由映射
- **样式定制**：Tailwind CSS类名修改

### 8.2 扩展性
- **新增菜单项**：支持配置化添加
- **多级菜单**：架构支持扩展至三级菜单
- **主题定制**：CSS变量支持主题切换

## 9. 测试需求

### 9.1 功能测试
- [ ] Logo点击跳转首页
- [ ] 主导航项正确跳转
- [ ] 下拉菜单悬停显示/隐藏
- [ ] 移动端菜单展开/收起
- [ ] 当前页面状态正确显示
- [ ] 子菜单自动展开

### 9.2 兼容性测试
- [ ] 桌面端各主流浏览器
- [ ] 移动端Safari和Chrome
- [ ] 不同屏幕尺寸适配
- [ ] 触摸和鼠标交互

### 9.3 性能测试
- [ ] 动画流畅度测试
- [ ] 内存泄漏检测
- [ ] 响应时间测试

## 10. 发布计划

### 10.1 开发阶段
- [x] 基础架构搭建
- [x] 桌面端导航实现
- [x] 移动端菜单开发
- [x] 状态管理优化
- [x] TypeScript类型完善

### 10.2 测试阶段
- [x] 单元测试编写
- [x] 集成测试验证
- [x] 用户体验测试
- [x] 性能优化调整

### 10.3 上线部署
- [x] 生产环境部署
- [ ] 监控指标配置
- [ ] 用户反馈收集
- [ ] 持续优化迭代